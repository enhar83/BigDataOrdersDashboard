@model KpiCartsDto

<div class="col-lg-3 col-md-4">
    <div class="row clearfix">

        <div class="col-lg-12 col-md-6 col-sm-12">
            <div class="card top-report shadow-sm border-0">
                <div class="body">
                    @{
                        var orderChange = Model.OrdersCountPercentageChange;
                        var orderBarWidth = Math.Abs(orderChange) > 100 ? 100 : Math.Abs(orderChange);
                        var orderColor = orderChange >= 0 ? "bg-success" : "bg-danger";
                        var orderIcon = orderChange >= 0 ? "zmdi-trending-up" : "zmdi-trending-down";
                    }
                    <h3 class="m-t-0 @(orderChange >= 0 ? "text-success" : "text-danger")">
                        %@orderChange.ToString("N2")
                        <i class="zmdi @orderIcon float-right"></i>
                    </h3>
                    <p class="text-muted mb-2">Satış Sayısı Değişimi</p>

                    <div class="progress mb-2" style="height: 6px; background-color: #f0f0f0;">
                        <div class="progress-bar @orderColor" role="progressbar"
                             style="width: @orderBarWidth.ToString().Replace(",", ".")%; transition: width 1s ease-in-out;"
                             aria-valuenow="@orderBarWidth"></div>
                    </div>

                    <div class="d-flex justify-content-between">
                        <small class="text-muted">Bugün: <strong>@Model.TodayOrdersCount</strong></small>
                        <small class="text-muted">Dün: @Model.YesterdayOrdersCount</small>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-12 col-md-6 col-sm-12">
            <div class="card top-report shadow-sm border-0">
                <div class="body">
                    @{
                        var priceChange = Model.OrdersPricePercentageChange;
                        var priceBarWidth = Math.Abs(priceChange) > 100 ? 100 : Math.Abs(priceChange);
                        var priceColor = priceChange >= 0 ? "bg-success" : "bg-danger";
                        var priceIcon = priceChange >= 0 ? "zmdi-trending-up" : "zmdi-trending-down";
                    }
                    <h3 class="m-t-0 @(priceChange >= 0 ? "text-success" : "text-danger")">
                        %@priceChange.ToString("N2")
                        <i class="zmdi @priceIcon float-right"></i>
                    </h3>
                    <p class="text-muted mb-2">Kazanç Değişimi</p>

                    <div class="progress mb-2" style="height: 6px; background-color: #f0f0f0;">
                        <div class="progress-bar @priceColor" role="progressbar"
                             style="width: @priceBarWidth.ToString().Replace(",", ".")%; transition: width 1s ease-in-out;"
                             aria-valuenow="@priceBarWidth"></div>
                    </div>

                    <div class="d-flex justify-content-between">
                        <small class="text-muted">Bugün: <strong>@Model.TodayOrdersPrice.ToString("C2")$</strong></small>
                        <small class="text-muted">Dün: @Model.YesterdayOrdersPrice.ToString("C2")$</small>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-12">
            <div class="card top-report shadow-sm border-0">
                <div class="body">
                    @{
                        var avgChange = Model.OrdersAveragePricePercentageChange;
                        var avgBarWidth = Math.Abs(avgChange) > 100 ? 100 : Math.Abs(avgChange);
                        var avgColor = avgChange >= 0 ? "bg-success" : "bg-danger";
                        var avgIcon = avgChange >= 0 ? "zmdi-trending-up" : "zmdi-trending-down";
                    }
                    <h3 class="m-t-0 @(avgChange >= 0 ? "text-success" : "text-danger")">
                        %@avgChange.ToString("N2")
                        <i class="zmdi @avgIcon float-right"></i>
                    </h3>
                    <p class="text-muted mb-2">Ort. Kazanç Değişimi</p>

                    <div class="progress mb-2" style="height: 6px; background-color: #f0f0f0;">
                        <div class="progress-bar @avgColor" role="progressbar"
                             style="width: @avgBarWidth.ToString().Replace(",", ".")%; transition: width 1s ease-in-out;"
                             aria-valuenow="@avgBarWidth"></div>
                    </div>

                    <div class="d-flex justify-content-between">
                        <small class="text-muted">Bugün: <strong>@Model.TodayOrdersAveragePrice.ToString("N2")$</strong></small>
                        <small class="text-muted">Dün: @Model.YesterdayOrdersAveragePrice.ToString("N2")$</small>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>